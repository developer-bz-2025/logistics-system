<div class="space-y-6">
  <div>
    <h3 class="text-lg font-medium text-gray-900 mb-4">General Information</h3>
    <p class="text-sm text-gray-600 mb-6">Provide basic details about the asset including supplier, brand, and cost information.</p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Serial Number -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Serial Number</mat-label>
      <input matInput [formControl]="$any(form.get('sn'))" placeholder="Enter serial number">
      <mat-hint>Optional asset serial number</mat-hint>
      <mat-error *ngIf="form.get('sn')?.hasError('duplicate')">
        This serial number is already in use.
      </mat-error>
    </mat-form-field>

    <!-- Supplier -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Supplier</mat-label>
      <input matInput
             [formControl]="$any(form.get('supplier_id'))"
             [matAutocomplete]="supplierAuto">
      <mat-autocomplete #supplierAuto="matAutocomplete" [displayWith]="displaySupplier">
        <mat-option *ngFor="let supplier of filteredSuppliers$ | async" [value]="supplier">
          {{ supplier.name }}
        </mat-option>
      </mat-autocomplete>
      <mat-hint>Required supplier information - start typing to search</mat-hint>
    </mat-form-field>

    <!-- Brand -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Brand</mat-label>
      <input matInput
             [formControl]="$any(form.get('brand_id'))"
             [matAutocomplete]="brandAuto">
      <mat-autocomplete #brandAuto="matAutocomplete" [displayWith]="displayBrand">
        <mat-option *ngFor="let brand of filteredBrands$ | async" [value]="brand">
          {{ brand.name }}
        </mat-option>
      </mat-autocomplete>
      <mat-hint>Required brand information - start typing to search</mat-hint>
    </mat-form-field>

    <!-- Color -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Color</mat-label>
      <mat-select [formControl]="$any(form.get('color_id'))">
        <mat-option *ngFor="let color of colors" [value]="color.id">
          {{ color.name }}
        </mat-option>
      </mat-select>
      <mat-hint>Required color information</mat-hint>
    </mat-form-field>

    <!-- PR Selection -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>PR </mat-label>
      <mat-select [formControl]="$any(form.get('pr_id'))">
        <mat-option *ngFor="let pr of prs" [value]="pr.id">
          {{ pr.pr_code }}
        </mat-option>
      </mat-select>
      <mat-hint>Required purchase request selection</mat-hint>
    </mat-form-field>
  </div>

  <!-- Acquisition Cost -->
  <div>
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Acquisition Cost</mat-label>
      <input matInput type="number" [formControl]="$any(form.get('acquisition_cost'))" min="0" step="0.01" required>
      <mat-hint>Cost of acquiring the asset (required)</mat-hint>
    </mat-form-field>
  </div>

  <!-- Dates -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- Acquisition Date -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Acquisition Date</mat-label>
      <input matInput [matDatepicker]="acquisitionPicker" [formControl]="$any(form.get('acquisition_date'))">
      <mat-datepicker-toggle matSuffix [for]="acquisitionPicker"></mat-datepicker-toggle>
      <mat-datepicker #acquisitionPicker></mat-datepicker>
      <mat-hint>Optional date of acquisition</mat-hint>
    </mat-form-field>

    <!-- Warranty Start Date -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Warranty Start Date</mat-label>
      <input matInput [matDatepicker]="warrantyStartPicker" [formControl]="$any(form.get('warranty_start_date'))">
      <mat-datepicker-toggle matSuffix [for]="warrantyStartPicker"></mat-datepicker-toggle>
      <mat-datepicker #warrantyStartPicker></mat-datepicker>
      <mat-hint>Optional warranty start date</mat-hint>
    </mat-form-field>

    <!-- Warranty End Date -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Warranty End Date</mat-label>
      <input matInput [matDatepicker]="warrantyEndPicker" [formControl]="$any(form.get('warranty_end_date'))">
      <mat-datepicker-toggle matSuffix [for]="warrantyEndPicker"></mat-datepicker-toggle>
      <mat-datepicker #warrantyEndPicker></mat-datepicker>
      <mat-hint>Optional warranty end date</mat-hint>
    </mat-form-field>
  </div>

  <!-- Validation Error for Date Range -->
  <div *ngIf="form.hasError('dateRange')" class="text-red-600 text-sm">
    Warranty end date must be after start date.
  </div>
</div>
