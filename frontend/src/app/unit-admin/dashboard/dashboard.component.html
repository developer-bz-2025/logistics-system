<!-- <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-5">
    <div *ngFor="let card of dashboardCards"
         class="rounded-xl p-6 text-center shadow-sm"
         [ngClass]="card.bgColor">
  
      <div class="text-3xl mb-2">{{ card.icon }}</div>
      <div class="text-sm font-medium text-gray-600">{{ card.label }}</div>
      <div class="text-2xl font-bold mt-1" [ngClass]="card.textColor">{{ card.value }}</div>
    </div>
  </div> -->

  <ng-container *ngIf="cards$ | async as dashboardCards">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-5">
      <div *ngFor="let card of dashboardCards"
           class="rounded-xl p-6 text-center shadow-sm"
           [ngClass]="card.bgColor">
        <div class="text-3xl mb-2">{{ card.icon }}</div>
        <div class="text-sm font-medium text-gray-600">{{ card.label }}</div>
        <div class="text-2xl font-bold mt-1" [ngClass]="card.textColor">
          {{ card.value | number }}
        </div>
      </div>
    </div>
  </ng-container>
 

  <app-unit-user></app-unit-user>

  <div class="max-w-7xl mx-auto p-6">
    <!-- Two wide cards -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
  
      <!-- Card: Total by Type -->
      <div class="card">
        <div class="card-head">
          <div class="card-title">Total Resources by Type</div>
        </div>
        <div class="card-body center">
          <div class="ring-stack" *ngIf="typeSlices$ | async as slices">
            <div class="ring-box" (mouseleave)="onTypeLeave()">
              <svg viewBox="0 0 300 300" class="ring">
                <circle cx="150" cy="150" r="110" stroke="#f3f4f6" stroke-width="22" fill="none"></circle>
                <ng-container *ngFor="let arc of buildRingData(slices, 110)">
                  <circle cx="150" cy="150" r="110"
                          [attr.stroke]="arc.color"
                          stroke-width="22"
                          fill="none"
                          stroke-linecap="butt"
                          [attr.stroke-dasharray]="arc.dasharray"
                          [attr.stroke-dashoffset]="arc.dashoffset"
                          transform="rotate(-90 150 150)"
                          (mousemove)="onTypeMove($event, arc.label, arc.value)"
                          (mouseenter)="onTypeEnter($event, arc.label, arc.value)">
                  </circle>
                </ng-container>
              </svg>
              <!-- Tooltip -->
              <div class="tooltip" *ngIf="tooltipType.show"
                   [style.left.px]="tooltipType.x" [style.top.px]="tooltipType.y">
                <div class="tt-label">{{ tooltipType.label }}</div>
                <div class="tt-value">{{ tooltipType.value }}</div>
              </div>
            </div>
            <!-- Labels -->
            <div class="labels-under">
              <div class="badge" *ngFor="let b of (typeBadges$ | async)" [style.--c]="b.color">
                <span class="dot" [style.background]="b.color"></span>
                <span class="label">{{ b.label }}</span>
                <span class="count">{{ b.count }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Card: Total by Visibility -->
      <div class="card">
        <div class="card-head">
          <div class="card-title">Total Resources by Visibility</div>
        </div>
        <div class="card-body center">
          <div class="ring-stack" *ngIf="visSlices$ | async as slices">
            <div class="ring-box" (mouseleave)="onVisLeave()">
              <svg viewBox="0 0 300 300" class="ring">
                <circle cx="150" cy="150" r="110" stroke="#f3f4f6" stroke-width="22" fill="none"></circle>
                <ng-container *ngFor="let arc of buildRingData(slices, 110)">
                  <circle cx="150" cy="150" r="110"
                          [attr.stroke]="arc.color"
                          stroke-width="22"
                          fill="none"
                          stroke-linecap="butt"
                          [attr.stroke-dasharray]="arc.dasharray"
                          [attr.stroke-dashoffset]="arc.dashoffset"
                          transform="rotate(-90 150 150)"
                          (mousemove)="onVisMove($event, arc.label, arc.value)"
                          (mouseenter)="onVisEnter($event, arc.label, arc.value)">
                  </circle>
                </ng-container>
              </svg>
              <!-- Tooltip -->
              <div class="tooltip" *ngIf="tooltipVis.show"
                   [style.left.px]="tooltipVis.x" [style.top.px]="tooltipVis.y">
                <div class="tt-label">{{ tooltipVis.label }}</div>
                <div class="tt-value">{{ tooltipVis.value }}</div>
              </div>
            </div>
            <!-- Labels -->
            <div class="labels-under">
              <div class="legend-chip" *ngFor="let s of slices">
                <span class="dot" [style.background]="s.color"></span>
                <span class="label">{{ s.label }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
  
    </div>
  </div>