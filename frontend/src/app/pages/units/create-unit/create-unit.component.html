<div class="max-w-4xl mx-auto p-6">
  <!-- Header -->
  <div class="mb-6  flex justify-between items-center">
    <div>
      <h1 class="text-2xl font-bold text-gray-800">Create New Unit</h1>
      <p class="text-gray-500">Set up a new organizational unit with country, entity, and head assignment</p>
    </div>
    <a routerLink="/dashboard" class="flex items-center gap-2 border border-gray-300 px-4 py-2 rounded-lg shadow-sm hover:bg-gray-100">
      ← Back
    </a>
  </div>

  <!-- Form Card -->
  <div class="bg-white rounded-xl shadow p-6">
    <h2 class="text-lg font-semibold mb-4 border-b pb-2">Unit Information</h2>

    <form [formGroup]="unitForm" (ngSubmit)="submit()" class="space-y-6">
      <!-- Unit Name -->
      <div>
        <label class="block font-medium text-gray-700 mb-1">Unit Name</label>
        <input
          formControlName="unit_name"
          type="text"
          placeholder="Enter unit name"
          class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <!-- Description -->
 

      <!-- Country & Entity -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block font-medium text-gray-700 mb-1">Country</label>
          <select
            formControlName="country_id"
            class="w-full border border-gray-300 rounded-lg p-3 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled>Select Country</option>
            <option *ngFor="let c of countries" [ngValue]="c.country_id">{{ c.country_name }}</option>
          </select>
        </div>

        <div>
          <label class="block font-medium text-gray-700 mb-1">Entity</label>
          <select
            formControlName="entity_id"
            class="w-full border border-gray-300 rounded-lg p-3 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled>Select Entity</option>
            <option *ngFor="let e of entities" [value]="e.entity_id">{{ e.entity_name }}</option>
          </select>
        </div>
      </div>

      <!-- Selection Summary -->
      <div class="mx-auto mt-6 max-w-xl bg-blue-50 border border-blue-100 rounded-lg p-6 text-sm text-blue-700">
        <div class="font-semibold text-blue-800 mb-3 text-center">Selected Assignments</div>
      
        <div class="flex flex-col sm:flex-row justify-center items-center gap-8">
          <div class="flex items-center gap-2">
            🌍 <span>Country: <span class="font-medium text-gray-800">{{ countryLabel }}</span></span>
          </div>
      
          <div class="flex items-center gap-2">
            🏢 <span>Entity: <span class="font-medium text-gray-800">{{ entityLabel }}</span></span>
          </div>
        </div>
      </div>
      

      <!-- Buttons -->
      <div class="flex justify-end gap-3 pt-4 border-t">
        <button type="button" routerLink="/dashboard" class="border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-100">
          Cancel
        </button>
        <button type="submit"
        class="bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center"
        [disabled]="unitForm.invalid || loading">
        <ng-container *ngIf="loading; else btnText">
          <span class="loader mr-2"></span> Creating...
        </ng-container>
        <ng-template #btnText>
          + Create entity
        </ng-template>
      </button>
      <div *ngIf="errorMessage" class="text-red-600 mb-2">
        {{ errorMessage }}
      </div>
      </div>
    </form>
  </div>
</div>
